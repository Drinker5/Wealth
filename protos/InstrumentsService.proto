syntax = "proto3";

import "Common.proto";

package wealth;

option csharp_namespace = "Wealth.InstrumentManagement";

service InstrumentsService {
  rpc GetBond (GetBondRequest) returns (GetBondResponse);
  rpc GetStock (GetStockRequest) returns (GetStockResponse);
  rpc CreateStock (CreateStockRequest) returns (CreateStockResponse);
  rpc CreateBond (CreateBondRequest) returns (CreateBondResponse);
  rpc ChangeStockPrice (ChangeStockPriceRequest) returns (ChangePriceResponse);
  rpc ChangeBondPrice (ChangeBondPriceRequest) returns (ChangePriceResponse);
}

message GetBondRequest {
  BondIdProto bond_id = 1;
}

message GetStockRequest {
  StockIdProto stock_id = 1;
}

message GetBondResponse {
  BondIdProto bond_id = 1;
  string name = 2;
  MoneyProto price = 3;
  ISINProto isin = 4;
}

message GetStockResponse {
  StockIdProto stock_id = 1;
  string name = 2;
  MoneyProto price = 3;
  ISINProto isin = 4;
  int32 lot_size = 5;
  MoneyProto dividend_per_year = 6;
}


message CreateStockRequest {
  string name = 1;
  ISINProto isin = 2;
}

message CreateStockResponse {
  StockIdProto stock_id = 1;
}

message CreateBondRequest {
  string name = 1;
  ISINProto isin = 2;
}

message CreateBondResponse {
  BondIdProto bond_id = 1;
}

message ChangeStockPriceRequest {
  StockIdProto stock_id = 1;
  MoneyProto price = 2;
}

message ChangeBondPriceRequest {
  BondIdProto bond_id = 1;
  MoneyProto price = 2;
}

message ChangePriceResponse {
}